<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="noticeSQL">
	<insert id="qnaBoardWrite" parameterType="qnaBoard">
		insert into milkyqna values(
		milkyQnASeq.nextval, #{qnaQuestionType}, #{qnaSubject}, 'aaa', 
		#{qnaContent}, #{qnaPwd}, #{qnaHit}, #{qnaImage1}, #{qnaImage2}, '답변 대기', sysdate)
	</insert>
	
	<select id="getTotalA" resultType="int">
		select count(*) from milkyqna
	</select>
	
	<select id="getQnaBoard" parameterType="java.util.Map" resultType="qnaBoard">
		select * from (select rownum rn, a.* from 
		(select qnacode, qnaquestiontype, qnasubject, id, qnacontent, qnapwd, qnahit, 
		qnaimage1, qnaimage2, qnaanswercheck, to_char(qnadate, 'yyyy-mm-dd')
		 "qnadate" from milkyqna order by qnaCode desc) a)
		  where rn between #{startNum} and #{endNum}
	</select>
</mapper>